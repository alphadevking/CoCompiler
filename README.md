# CoCompiler

CoCompiler is a simple compiler and virtual machine designed to process a custom programming language. It includes phases for lexical analysis, syntax analysis (AST generation), semantic analysis (symbol table and type checking), intermediate code generation (bytecode), and virtual machine execution.

## Features

*   **Lexical Analysis:** Converts source code into a stream of `Token` objects (defined in `include/Tokens.h`). It handles various token types including identifiers, keywords, literals (integers, floats, strings, booleans), and operators.
*   **Syntax Analysis:** Parses the token stream to build an Abstract Syntax Tree (AST). The AST is composed of `ASTNode` objects (defined in `include/AST.h`), representing the hierarchical structure of the source code.
*   **Semantic Analysis:** Performs checks for meaning and consistency. This includes type checking (ensuring operations are performed on compatible data types like integers, floats, strings, and booleans) and managing variable declarations using a `SymbolTable` (implemented in `src/SymbolTable.cpp` and `include/SymbolTable.h`).
*   **Intermediate Code Generation:** Translates the validated AST into a custom bytecode format. The bytecode consists of `Bytecode` instructions (defined in `include/Bytecode.h`), which are a low-level, stack-based representation of the program.
*   **Virtual Machine:** Executes the generated bytecode. The VM is stack-based, meaning operations manipulate values on a stack. It processes each `Bytecode` instruction, performing arithmetic, logical, control flow, and memory operations.
*   **Basic Language Constructs:** Supports variable declarations, assignments, arithmetic operations, `if-else` statements, logical operations (`&&`, `||`, `!`), string concatenation, and `print` statements.
*   **Debugging Output:** Provides detailed debug information during VM execution, including program counter, instruction, operand, and stack state, which is useful for tracing program flow.

## Getting Started

These instructions will get you a copy of the project up and running on your local machine for development and testing purposes.

### Prerequisites

To build and run this project, you will need:

*   **CMake:** A cross-platform open-source build system.
    *   Download from [cmake.org](https://cmake.org/download/)
*   **A C++ Compiler:**
    *   **Windows:** Visual Studio with C++ desktop development workload (MSVC).
    *   **Linux/macOS:** GCC or Clang.

### Building the Project

Follow these steps to create the build directory and compile the project:

1.  **Navigate to the project root directory:**
    ```bash
    cd CoCompiler
    ```

2.  **Create a build directory:**
    It's good practice to build outside of the source tree.
    ```bash
    mkdir build
    cd build
    ```

3.  **Configure the project with CMake:**
    This step generates the build system files (e.g., Makefiles on Linux/macOS, Visual Studio solutions on Windows).
    ```bash
    cmake ..
    ```
    *   **Note for Windows (Visual Studio):** If you have multiple Visual Studio versions, you might need to specify the generator:
        ```bash
        cmake .. -G "Visual Studio 16 2019" -A x64
        # Or "Visual Studio 17 2022" etc.
        ```

4.  **Build the project:**
    This compiles the source code and creates the executable.
    ```bash
    cmake --build .
    ```
    The executable `cocompiler.exe` (on Windows) or `cocompiler` (on Linux/macOS) will be generated in the `build/Debug/` (Windows) or `build/` (Linux/macOS) directory.

### Running the CoCompiler

You can run the `cocompiler` executable with a `.cocom` source file as an argument.

1.  **Navigate back to the project root (if you are still in the `build` directory):**
    ```bash
    cd ..
    ```

2.  **Run a `.cocom` file:**
    Use the provided `test.cocom` file as an example:
    ```bash
    build\Debug\cocompiler.exe test.cocom
    ```
    (On Linux/macOS, it would be `./build/cocompiler test.cocom`)

3.  **Interactive Mode:**
    If you run the executable without any arguments, it will enter an interactive mode where you can type code line by line:
    ```bash
    build\Debug\cocompiler.exe
    ```
    (On Linux/macOS: `./build/cocompiler`)
    Type `exit` to quit the interactive mode.

## Project Structure

*   `main.cpp`: Entry point of the compiler, orchestrates the compilation phases.
*   `src/`: Contains the source code for different compiler components.
    *   `Lexer.cpp`/`Lexer.h`: Handles lexical analysis (tokenization).
    *   `Parser.cpp`/`Parser.h`: Handles syntax analysis (AST generation).
    *   `Compiler.cpp`/`Compiler.h`: Performs semantic analysis and bytecode generation.
    *   `VM.cpp`/`VM.h`: Implements the virtual machine for bytecode execution.
    *   `SymbolTable.cpp`/`SymbolTable.h`: Manages symbols and their types/addresses.
*   `include/`: Contains header files for shared data structures and enums.
    *   `Tokens.h`: Defines token types.
    *   `AST.h`: Defines Abstract Syntax Tree nodes.
    *   `Bytecode.h`: Defines bytecode instructions.
*   `test.cocom`: Example source code file for testing the compiler.

## Contributing

Feel free to fork the repository and contribute!
